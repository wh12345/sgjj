/**/_jsload2&&_jsload2('poly', 'function mg(a,b){eb.call(this);this.point=a;this.type=b;this.z={}}x.lang.ua(mg,eb,"Vertex"); x.extend(mg.prototype,{initialize:function(a){this.map=a;var b="",b=this.type?"BMap_vectex BMap_vectex_nodeT":"BMap_vectex BMap_vectex_node",c=this.kH=this.V=document.createElement("div");c.className=b;a.Qf().UO.appendChild(c);this.yA();return c},draw:function(){var a=this.map.Ve(this.point);this.kH.style.left=a.x-5+"px";this.kH.style.top=a.y-5+"px"},ta:function(a){a instanceof H&&(this.point=this.z.point=new H(a.lng,a.lat),this.draw())},ha:u("point"),yA:function(){function a(a,b){b.pixel=b.jb=a.jb; b.point=b.point=a.point;return b}function b(a){var b=a.clientX,c=a.clientY;a.changedTouches&&(b=a.changedTouches[0].clientX,c=a.changedTouches[0].clientY);return new R(b,c)}if(this.V&&!this.V.Ji){this.V.Ji=o;var c=this.map,d=this,e=0,f=0,g=0,i={x:0,y:0};this.Fs=function(a){na(a);if(2!=a.button){d.ql=o;var i=c.bc(d.point),m=b(a);e=m.x-i.x;f=m.y-i.y;g=$a();d.map.R.cv=d;x.M(document,"mousemove",d.ij);x.M(document,"mouseup",d.hj);x.M(document,"touchmove",d.ij);x.M(document,"touchend",d.hj);d.V&&d.V.setCapture&& d.V.setCapture();d.V.style.cursor=d.z.Fd;"touchstart"==a.type&&ma(a)}};this.ij=function(g){if(d.ql){g=b(g);i=g=new R(g.x-e,g.y-f);d.Xz=g;var l=d.map.wb(g),m={jb:g,point:l};d.Dl=d.El=0;if(20>=g.x||g.x>=d.map.width-20||50>=g.y||g.y>=d.map.height-10){if(20>=g.x?d.Dl=8:g.x>=d.map.width-20&&(d.Dl=-8),50>=g.y?d.El=8:g.y>=d.map.height-10&&(d.El=-8),!d.Fe)d.Fe=setInterval(function(){c.wg(d.Dl,d.El,{noAnimation:o});var a=c.wb(d.Xz);d.ta(a)},30)}else d.Fe&&(clearInterval(d.Fe),d.Fe=p),d.ta(l);d.il||(d.dispatchEvent(a(m, new M("ondragstart"))),d.il=o);d.dispatchEvent(a(m,new M("ondragging")))}};this.hj=function(){d.V&&d.V.releaseCapture&&d.V.releaseCapture();d.ql=q;d.map.R.cv=p;x.bd(document,"mousemove",d.ij);x.bd(document,"mouseup",d.hj);x.bd(document,"touchmove",d.ij);x.bd(document,"touchend",d.hj);e=f=0;d.Fe&&(clearInterval(d.Fe),d.Fe=p);if(100<=$a()-g&&(2<i.x||2<i.y))d.il=q,d.dispatchEvent(a({jb:d.map.bc(d.ha()),point:d.ha()},new M("ondragend"))),i.x=i.y=0;d.Ql();d.V&&(d.V.style.cursor=d.z.hf?"pointer":"")};x.M(this.V, "mousedown",this.Fs);x.M(this.V,"touchstart",this.Fs)}}});x.extend(rc.prototype,{oQ:function(a){return this.repeat?this.qQ(a):this.pQ(a)},qQ:function(a){var b=this.repeat,c=[],d,e,f;if(this.KI){d=Math.floor(1/this.repeat)+1;for(e=0;e<d;e++)c.push(ng(a,1-b*e,o))}else{f=a.Ui[a.Ui.length-1];d=Math.floor(f/b)+1;for(e=0;e<d;e++)c.push(ng(a,f-e*b,q))}return c},pQ:function(a){return[ng(a,this.Zj,this.JI)]},hide:function(){if(this.Uc&&0<this.Uc.length)for(var a=this.Uc.length-1;0<=a;a--)this.Uc[a].U()},show:function(){if(this.Uc&&0<this.Uc.length)for(var a=this.Uc.length- 1;0<=a;a--)this.Uc[a].show()}});function ng(a,b,c){var d=a.ia;if(c){if(0>=b)return{point:d[0],index:1};if(1<=b)return{point:d[d.length-1],index:d.length-1};c=a.SS*b;b=og(c,a.Kl);a=(c-a.Kl[b-1])/(a.Kl[b]-a.Kl[b-1])}else{c=b;b=a.Ui[a.Ui.length-1];if(0>=c)return{point:d[0],index:1};if(c>=b)return{point:d[d.length-1],index:d.length-1};b=og(c,a.Ui);a=(c-a.Ui[b-1])/(a.Ui[b]-a.Ui[b-1])}c=d[b-1];d=d[b];return{point:new H(c.lng+(d.lng-c.lng)*a,c.lat+(d.lat-c.lat)*a),index:b}} x.kc.indexOf=function(a,b,c){var d=a.length,c=c|0;for(0>c&&(c=Math.max(0,d+c));c<d;c++)if(c in a&&a[c]===b)return c;return-1};function og(a,b){var c=pg(b.concat(a));return x.kc.indexOf(c,a)}function pg(a){if(2>a.length)return a;for(var b=Math.floor(a.length/2),c=a.slice(0,b),a=a.slice(b),c=pg(c),a=pg(a),b=[];0<c.length&&0<a.length;)c[0]>a[0]?b.push(a.shift()):b.push(c.shift());return b.concat(c).concat(a)};x.extend(lc.prototype,{initialize:function(a){a&&this.nv&&a.addEventListener("onmousemove",this.nv);a=eb.prototype.initialize.call(this,a);this.z.lf===o&&(this.mk(),this.Vl());return a},Hj:function(){this.V=(this.Tn=qg.Us(this.map)).zo()},ca:function(){function a(a,b){var c=a.srcElement||a.target,g=Ab(),i=a.pageX?a.pageX:a.clientX+g[1],g=a.pageY?a.pageY:a.clientY+g[0];if(a&&b&&i&&g&&c){var c=x.lang.Kc(c.ba).map,k=x.K.ha(c.Va);b.jb=new R(i-k.left,g-k.top);b.point=c.wb(b.jb);b.pixel=b.jb;b.point=b.point}return b} var b=this.V,c=this;"canvas"!==qg.Us(this.map).ip()&&!G()&&(c.z.hf&&(b.style.cursor="pointer",x.M(b,"click",function(b){c.rI&&c.rI.nb(c.map.Ha())&&c.dispatchEvent(a(b,la(new M("onclick"),b)))}),x.M(b,"dblclick",function(b){c.dispatchEvent(a(b,la(new M("ondblclick"),b)))}),(!x.da.Se||4>x.da.Se)&&x.M(this.V,"contextmenu",function(b){c.dispatchEvent(a(b,la(new M("onrightclick"),b)))})),x.M(b,"mousedown",function(b){c.dispatchEvent(a(b,la(new M("onmousedown"),b)));c.rI=c.map.Ha()}),x.M(b,"mouseup",function(b){c.dispatchEvent(a(b, la(new M("onmouseup"),b)))}),x.M(this.V,"mouseup",function(b){c.dispatchEvent(a(b,la(new M("onmouseup"),b)));x.da.Se>=4&&(b.button===2&&c.z.hf)&&c.dispatchEvent(a(b,la(new M("onrightclick"),b)))}));b=p;this.Ji||(this.Ji=o,this.nv=function(a){if(c.map&&!c.map.R.cv){var b=c.pS(a.point),f=parseFloat(b.Ba),g;if(f<c.z.WM){g=c.Ra.Tx?new M("onmousemove"):new M("onmouseover");c.Ra.rM=q;c.Ra.Tx=o}else if(!c.Ra.rM&&c.Ra.Tx){g=new M("onmouseout");c.Ra.Tx=q;c.Ra.rM=o}if(g){if(!(c instanceof Cc)&&g.type==="onmousemove"&& c.Ra.Tx===o&&(f===0||f>c.z.WM)){g.pixel=g.jb=a.jb;g.point=g.point=a.point}else{g.point=g.point=this.sN(b.jb);g.pixel=g.jb=this.bc(g.point)}c.dispatchEvent(g)}}},this.map.addEventListener("onmousemove",this.nv),this.addEventListener("mouseover",s()),this.addEventListener("mouseout",s()))},draw:function(a){this.V&&this.Tn&&("canvas"===this.Tn.Nb&&this.Nv?(this.Nv(),this.Tn.ke(this.V,this.br(this.ia),this.z)):this.Tn.ke(this.V,this.br(this.ia)),this instanceof Cc&&this.z.ni&&this.rR(a))},yb:function(){this.map&& (this.initialize(this.map),this.V.style.WebkitUserSelect="none",this.draw())},br:function(a){var b=this.map,c=[],d=b.Hd(),e=this.Hd();if(!d.mt(e)||0===a.length||!this.V||!this.jh())return[c];this.z.lf||(d=this.ym(b.fa()),this.ff[d]?a=this.ff[d]:(a=rg(a,this.wk(b.fa())),a=this.ff[d]=a));d=this.z.a0;c.push(b.Ve(a[0],p,d));for(var f=e=1,g=a.length;e<g;e++){var i=b.Ve(a[e],p,d);i.nb(c[f-1])||(c.push(i),f++)}return[c]},ym:function(a){return this.z.ym?this.z.ym(a):6>a?0:10>a?1:15>a?2:3},wk:function(a){return this.z.wk? this.z.wk(a):lc.SE[this.ym(a)]},Nr:function(a){this.ff.length=0;a=lc.nx(a);this.to=a.slice(0,a.length-1);this.ia=a.slice(0);this.Eh();this.draw();this.dispatchEvent(new M("onlineupdate"))},ke:function(a){this.Nr(a);this.z.lf===o&&(this.mk(),this.Vl())},jn:function(a,b){b&&this.ia[a]&&(this.ff.length=0,this.ia[a]=new H(b.lng,b.lat),this.Eh(),this.z.lf===o&&(this.mk(),this.Vl()),this.draw(),this.dispatchEvent(new M("onlineupdate")))},setStrokeColor:function(a){this.z&&(this.z.strokeColor=a);this.Ml("strokecolor", a)},Up:function(a){0<a&&(this.z.nc=a,this.Ml("strokeweight",a),"dashed"===this.GL()&&(this.map&&"svg"===qg.Us(this.map).ip())&&this.Ml("strokestyle","dashed"))},Sp:function(a){a===j||(1<a||0>a)||(this.z.rd=a,this.map&&this.Ml("strokeopacity",a))},Tt:function(a){1<a||0>a||(this.z.pg=a,this.Ml("fillopacity",a))},Tp:function(a){"solid"!==a&&"dashed"!==a||(this.z.strokeStyle=a,this.Ml("strokestyle",a))},setFillColor:function(a){this.z.fillColor=a||"";this.Ml("fillcolor",a)},Ml:function(a,b){this.Tn&& (this.Tn.setAttribute(this.V,a,b||"",this.HL()),this.dispatchEvent(new M("onlineupdate")))},Vl:function(){var a=this;if(!a.oc.length)for(var b=this.ML(),c=function(b){a.Cv(b)},d=s(),e=function(b){a.aB(b)},f=0,g=b.length;f<g;f++){var i=b[f],k=new mg(i.ub,i.pa);k.addEventListener("ondragging",c);k.addEventListener("ondragstart",d);k.addEventListener("ondragend",e);k.index=f;k.pa=i.pa;this.oc.push(k);this.map.Ka(k)}},mk:function(){for(var a;a=this.oc.pop();)this.map.Ub(a);this.oc.length=0},ML:function(){for(var a= [],b=0,c=this.ia.length;b<c;b++){var d=this.ia[b];a.push({ub:d,pa:0});if(b<c-1){var e=this.ia[b+1],d=new H((d.lng+e.lng)/2,(d.lat+e.lat)/2);a.push({ub:d,pa:1})}}return this.Rc=a},e1:s(),aB:function(a){this.Ra.gj&&(this.map.Ub(this.Ra.gj),delete this.Ra.gj);this.Ra.wi&&(this.map.Ub(this.Ra.wi),delete this.Ra.wi);this.Ra.si&&(this.map.Ub(this.Ra.si),delete this.Ra.si);var b=a.point,a=a.currentTarget.index,c;if(0!==a%2){this.Sz(a);this.wq(a,b,0);var d=this.Rc[a-1].ub;c=this.Rc[a+1].ub;d=this.Rs(d,b); c=this.Rs(b,c);this.wq(a,d,1);this.wq(a+2,c,1);a=Math.ceil(a/2);c=this.ia.slice();a=c.splice(a,this.ia.length-a);c[c.length]=b;c=c.concat(a)}else this.Rc[a].ub=b,0<=a-2&&(d=this.Rc[a-2].ub,d=this.Rs(d,b),this.oc[a-1].show(),this.oc[a-1].ta(d)),a+2<this.Rc.length&&(c=this.Rc[a+2].ub,c=this.Rs(b,c),this.oc[a+1].show(),this.oc[a+1].ta(c)),this instanceof Bc&&this.Rc.length-1===a&&(this.Sz(0),this.wq(0,b,0),this.Sz(1),this.wq(1,this.Rs(this.Rc[0].ub,this.Rc[1].ub),1),this.oc[0].V.style.zIndex="-10000000"), a/=2,this.ia.splice(a,1,b),this instanceof Bc&&this.ia.length-1===a&&this.ia.splice(0,1,b),c=this.ia;b=0;for(a=this.oc.length;b<a;b++)this.oc[b].index=b;this.ia=c;this.Nr(c)},wq:function(a,b,c){var d=this;this.Rc.splice(a,0,{ub:b,pa:c});b=new mg(b,c);b.addEventListener("ondragging",function(a){d.Cv(a)});b.addEventListener("ondragstart",s());b.addEventListener("ondragend",function(a){d.aB(a)});b.index=a;b.pa=c;this.oc.splice(a,0,b);this.map.Ka(b)},Sz:function(a){this.map.Ub(this.oc[a]);this.Rc.splice(a, 1);this.oc.splice(a,1)},Rs:function(a,b){return new H((a.lng+b.lng)/2,(a.lat+b.lat)/2)},pS:function(a){var b,c,d,e,f,g,i=[],k=this.map.Ve(a),i=this.br(this.ia)[0],l=i.length;if(1<l){for(e=1;e<l;e++){var m=i[e-1],n=i[e];if(m&&n){m.x!==n.x?(f=(n.y-m.y)/(n.x-m.x),f=Math.abs(f*k.x+(n.y-f*n.x)-k.y)/Math.sqrt(f*f+1)):f=Math.abs(k.x-n.x);var t=Math.pow(n.y-m.y,2)+Math.pow(n.x-m.x,2),n=Math.pow(n.y-k.y,2)+Math.pow(n.x-k.x,2),m=Math.pow(m.y-k.y,2)+Math.pow(m.x-k.x,2),v=Math.pow(f,2);n-v+m-v>t&&(f=Math.sqrt(Math.min(n, m)));if(b==p||b>f)c=Math.sqrt(m-v)/Math.sqrt(t),d=Math.sqrt(n-v)/Math.sqrt(t),b=f,g=e;b=Math.min(b,f)}}if(!(this instanceof Cc)){f=k=0;t=this.ia;for(e=0;e<l;e++)k=e===l-1?0:k+1,t[e].lat!==t[k].lat&&((a.lat>=t[e].lat&&a.lat<t[k].lat||a.lat>=t[k].lat&&a.lat<t[e].lat)&&a.lng<(t[k].lng-t[e].lng)*(a.lat-t[e].lat)/(t[k].lat-t[e].lat)+t[e].lng)&&f++;b=Math.min(b,0<f%2?0:b)}1<c&&(c=1);1<d&&(c=0);a=i[g-1].y-i[g].y;e=i[g-1].x-(i[g-1].x-i[g].x)*c;f=i[g-1].y-a*c}return{jb:new R(e,f),Ba:b}},show:function(){eb.prototype.show.call(this); this.draw();this.z.lf===o&&this.Vl()},U:function(){eb.prototype.U.call(this);this.z.lf===o&&this.mk()},remove:function(){jc.prototype.remove.call(this);this.z.lf===o&&this.mk()}});function sg(a,b){var c={top:0,bottom:0,right:0,left:0,all:0},d=a.x,e=a.y;e<b.UM?(c.top=8,c.all+=c.top):e>b.QM&&(c.bottom=4,c.all+=c.bottom);d>b.PM?(c.right=2,c.all+=c.right):d<b.TM&&(c.left=1,c.all+=c.left);return c} function rg(a,b){if(1>=a.length)return a;var c=a,d=b!==j?b*b:1,e=c.length,f=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(e),g=0,i=e-1,k=[],l=[],m,n,t,v;for(f[g]=f[i]=1;i;){n=0;for(m=g+1;m<i;m++){t=c[m];var w=c[g],y=c[i],B=w.lng,w=w.lat,A=y.lng-B,E=y.lat-w;if(0!==A||0!==E){var C=((t.lng-B)*A+(t.lat-w)*E)/(A*A+E*E);1<C?(B=y.lng,w=y.lat):0<C&&(B+=A*C,w+=E*C)}A=t.lng-B;E=t.lat-w;t=A*A+E*E;t>n&&(v=m,n=t)}n>d&&(f[v]=1,k.push(g,v,v,i));i=k.pop();g=k.pop()}for(m=0;m<e;m++)f[m]&&l.push(c[m]);return l} T(cf,{show:cf.show,hide:cf.U,remove:cf.remove,setPath:cf.ke,setPositionAt:cf.jn,setStrokeColor:cf.setStrokeColor,setStrokeWeight:cf.Up,setStrokeOpacity:cf.Sp,setFillOpacity:cf.Tt,setStrokeStyle:cf.Tp,setFillColor:cf.setFillColor});x.extend(Cc.prototype,{initialize:function(a){lc.prototype.initialize.call(this,a);this.WI=[0];this.Lr=[0];this.Kl=[0];for(var a=1,b=this.ia,c=b.length;a<c;a++){this.WI[a]=S.Yo(b[a],b[a-1]);var d=S.zb(b[a-1]),e=S.zb(b[a]);this.Lr[a]=90-180*Math.atan2(e.lat-d.lat,e.lng-d.lng)/Math.PI;this.Kl[a]=this.Kl[a-1]+this.WI[a]}this.SS=this.Kl[c-1];this.Nv();this.Mv={};return this.V},Nv:function(){this.setFillColor("");this.setStrokeColor(this.z.strokeColor);this.Up(this.z.nc);this.Tp(this.z.strokeStyle);this.Sp(this.z.rd)}, br:function(a){var b=this.map,c=[],d=b.Hd(),e=this.Hd();if(!d.mt(e)||0==a.length||!this.V||!this.jh())return[c];!(G()&&5E3<a.length)&&!this.z.lf&&(d=this.ym(b.fa()),this.ff[d]?a=this.ff[d]:(e=rg(a,this.wk(b.fa())),a=this.ff[d]=e));c.push(b.Ve(a[0]));for(var f=d=1,e=a.length;d<e;d++){var g=b.Ve(a[d]);g.nb(c[f-1])||(c.push(g),f++)}a=[];d=b.offsetX;e=b.offsetY;f=b.C.ax;b={TM:-d-f,UM:-e-f,PM:-d+f+b.width,QM:-e+f+b.height};d=0;for(e=c.length-1;d<e;d++){var i=c[d],k=c[d+1],f=b,l=g=q,m=q,i=new R(i.x,i.y), k=new R(k.x,k.y),n=sg(i,f),t=sg(k,f),v=j,w=j,y=j,B=f.TM,A=f.UM,E=f.PM,C=f.QM;do 0===n.all&&0===t.all?m=g=o:0!==(n.all&t.all)?m=o:(v=0!==n.all?n:t,v.top?(w=i.x+(k.x-i.x)*(A-i.y)/(k.y-i.y),y=A):v.bottom?(w=i.x+(k.x-i.x)*(C-i.y)/(k.y-i.y),y=C):v.right?(y=i.y+(k.y-i.y)*(E-i.x)/(k.x-i.x),w=E):v.left&&(y=i.y+(k.y-i.y)*(B-i.x)/(k.x-i.x),w=B),l=o,v.all===n.all)?(i.x=Math.round(w),i.y=Math.round(y),n=sg(i,f)):(k.x=Math.round(w),k.y=Math.round(y),t=sg(k,f));while(!m);f=g?{wN:new R(i.x,i.y),xN:new R(k.x,k.y), clip:l?o:q}:j;f&&a.push(f)}c=[[]];d=0;for(e=a.length;d<e;d++)a[d].clip?(c[c.length-1].push(a[d].wN),c[c.length-1].push(a[d].xN),a[d+1]&&a[d+1].clip&&c.push([])):(c[c.length-1].push(a[d].wN),d==a.length-1&&c[c.length-1].push(a[d].xN));return c},hide:function(){lc.prototype.U.call(this);if(this.z.ni&&0<this.z.ni.length)for(var a=0,b=this.z.ni.length;a<b;a++)this.z.ni[a].hide()},show:function(){lc.prototype.show.call(this);if(this.z.ni&&0<this.z.ni.length)for(var a=0,b=this.z.ni.length;a<b;a++)this.z.ni[a].show()}, rR:function(a){var b=this.tx(),c=b.fa(),d=b.Hd();icons=this.z.ni;displayPixels=lc.prototype.br.call(this,this.ia);if(this.Mv[c]&&0<this.Mv[c].length)this.Ui=this.Mv[c];else{for(var e=[0],f=1,g=displayPixels[0],i=g.length;f<i;f++)e[f]=e[f-1]+Bb(g[f],g[f-1]);this.Ui=this.Mv[c]=e}for(f=0;f<icons.length;f++){var e=icons[f],g=e.B_,k,l;e.Gv[c]&&0<e.Gv[c].length?l=e.Gv[c]:e.Gv[c]=l=e.oQ(this);if(1===l.length)d.hs(l[0].point)&&(e.Uc[0]&&(b.Ub(e.Uc[0]),e.Uc[0].remove()),e.eL||(7===g.Nb||5===g.Nb?g.Rp(-180+ this.Lr[l[0].index]):g.Rp(this.Lr[l[0].index])),e.Uc[0]=new U(l[0].point,{icon:g}),b.Ka(e.Uc[0]));else if(1<l.length){var m=[],n,t={};if(a&&"onzoomend"===a.type){for(var v in e.Uc)b.Ub(e.Uc[v]),e.Uc[v].remove();e.Uc=[]}else x.kc.Gb(e.Uc,function(a){d.hs(a.ha())?(n=""+a.ha().lat+(""+a.ha().lng),t[n]=o,m.push(a)):(b.Ub(a),a.remove())}),e.Uc=m;for(v=0;v<l.length;v++){k=l[v].index;var i=l[v].point,w=""+i.lat+(""+i.lng);d.hs(i)&&!t[w]&&(e.eL||(7===g.Nb||5===g.Nb?g.setRotation(-180+this.Lr[k]):g.setRotation(this.Lr[k])), i=new U(i,{icon:g}),e.Uc.push(i),b.Ka(i))}}}},Cv:function(a){var b=a.currentTarget,c=a.point,d=b.index,e=this.Rc,f,g=a=p;if(0==d){var i=e[d+2].ub;f=[c,i];a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2);this.oc[d+1]&&this.oc[d+1].U()}else if(d==e.length-1){var k=e[d-2].ub;f=[k,c];a=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2);this.oc[d-1]&&this.oc[d-1].U()}else k=e[d-1].ub,i=e[d+1].ub,f=[k,c,i],b.pa||(k=e[d-2].ub,i=e[d+2].ub,f=[k,c,i],a=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2),g=new H((i.lng+c.lng)/2,(i.lat+c.lat)/ 2),this.oc[d-1]&&this.oc[d-1].U(),this.oc[d+1]&&this.oc[d+1].U());this.Ra.gj?(this.Ra.gj.ke(f),this.Ra.gj.show()):(b=new Cc(f,{strokeStyle:"dashed",strokeColor:this.z.strokeColor,nc:this.z.nc,rd:this.z.rd}),this.map.Ka(b),b.U(),this.Ra.gj=b);!this.Ra.wi&&a?(this.Ra.wi=new mg(a,1),this.map.Ka(this.Ra.wi)):a&&this.Ra.wi.ta(a);!this.Ra.si&&g?(this.Ra.si=new mg(g,1),this.map.Ka(this.Ra.si)):g&&this.Ra.si.ta(g)}});x.kc.remove=function(a,b){for(var c=a.length;c--;)a[c]===b&&a.splice(c,1);return a};x.extend(Bc.prototype,{initialize:function(a){lc.prototype.initialize.call(this,a);this.setStrokeColor(this.z.strokeColor);this.Up(this.z.nc);this.Tp(this.z.strokeStyle);this.setFillColor(this.z.fillColor);this.Sp(this.z.rd);this.Tt(this.z.pg);return this.V},jn:function(a,b){this.to[a]&&(this.ff.length=0,this.to[a]=new H(b.lng,b.lat),this.ia[a]=new H(b.lng,b.lat),0==a&&!this.ia[0].nb(this.ia[this.ia.length-1])&&(this.ia[this.ia.length-1]=new H(b.lng,b.lat)),this.Eh(),this.z.lf==o&&(this.mk(),this.Vl()), this.draw(),this.dispatchEvent(new M("onlineupdate")))},Nv:function(){this.setStrokeColor(this.z.strokeColor);this.Up(this.z.nc);this.Tp(this.z.strokeStyle);this.setFillColor(this.z.fillColor);this.Sp(this.z.rd);this.Tt(this.z.pg)},containPoint:function(a){var b=this.ia,c=q;if(!(!a instanceof H)){if(this.Pu.hs(a)){for(var d=a.lat,a=a.lng,e=0,f=b.length-1;e<b.length;f=e++){var g=b[e].lat,i=b[e].lng,k=b[f].lat,f=b[f].lng;i>a!=f>a&&d<(k-g)*(a-i)/(f-i)+g&&(c=!c)}return c}return q}},Cv:function(a){var b= a.currentTarget,c=a.point,d=b.index,e=this.Rc,f,g=a=p;if(0==d){var i=e[e.length-2].ub,k=e[d+2].ub;f=[i,c,k];b.pa||(a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2))}else d==e.length-1?(k=e[2].ub,i=e[d-2].ub,f=[i,c,k],b.pa||(a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2))):(i=e[d-1].ub,k=e[d+1].ub,f=[i,c,k],b.pa||(i=e[d-2].ub,k=e[d+2].ub,f=[i,c,k],a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2),this.oc[d- 1]&&this.oc[d-1].U(),this.oc[d+1]&&this.oc[d+1].U()));this.Ra.gj?this.Ra.gj.ke(f):(b=new Cc(f,{strokeStyle:"dashed",strokeColor:this.z.strokeColor,nc:this.z.nc,rd:this.z.rd}),this.map.Ka(b),this.Ra.gj=b);!this.Ra.wi&&a?(this.Ra.wi=new mg(a,1),this.map.Ka(this.Ra.wi)):a&&this.Ra.wi.ta(a);!this.Ra.si&&g?(this.Ra.si=new mg(g,1),this.map.Ka(this.Ra.si)):g&&this.Ra.si.ta(g)}});T(ef,{setPositionAt:ef.jn});x.extend(Dc.prototype,{initialize:function(a){Bc.prototype.initialize.call(this,a);this.ia=this.jv(this.point,this.xa);this.Eh();return this.V},Vf:function(a,b){a&&(this.ff.length=0,b||(this.Rc=p),this.point=a,this.ia=this.jv(a,this.xa),this.Eh(),this.draw(),this.dispatchEvent(new M("onlineupdate")))},uf:function(a,b){isNaN(a)||(this.ff.length=0,b||(this.Rc=p),this.xa=Math.abs(a),this.ia=this.jv(this.point,this.xa),this.Eh(),this.draw(),this.dispatchEvent(new M("onlineupdate")))},wk:function(a){return this.z.wk? this.z.wk(a):Dc.SE[this.ym(a)]},Cv:function(a){var b,a=a.currentTarget,c=this.Rc;b=c[0].ub;c=c[c.length-1].ub;0==a.index?(b=a.ha(),a=c):a=a.ha();this.uf(S.Yo(b,a),o);this.Vf(b,o)},aB:function(a){var a=a.currentTarget,b=a.index;this.Rc[0]={ub:this.point,pa:0};1==b&&(this.Rc[1]={ub:a.point,pa:0});this.mk();this.Vl()},ML:function(){if(!this.Rc){var a=[];a.push({ub:this.point,pa:0});a.push({ub:this.ia[Math.floor(3*this.ia.length/4)],pa:0});this.Rc=a}return this.Rc}});T(df,{setCenter:df.Vf,setRadius:df.uf});var qg={Us:function(a){qg["_"+a.ba]||(qg["_"+a.ba]={});switch(a.C.QK){case 1:return qg.IL(a);case 2:return qg.NL(a);case 3:return qg.FD(a)}if(G()&&qg.nM()&&4!==a.C.QK)return qg.FD(a);if(qg.vY())return qg.IL(a);if(qg.wY())return qg.NL(a);if(qg.nM())return qg.FD(a)},IL:function(a){qg["_"+a.ba].nJ||(qg["_"+a.ba].nJ=new z.HP(a));return qg["_"+a.ba].nJ},NL:function(a){qg["_"+a.ba].yJ||(qg["_"+a.ba].yJ=new z.KP(a));return qg["_"+a.ba].yJ},FD:function(a){qg["_"+a.ba].WG||(qg["_"+a.ba].WG=new z.hP(a));return qg["_"+ a.ba].WG},wY:function(){if(Db(qg.rO))return qg.rO;var a=Ib();return qg.rO=a},vY:function(){Db(qg.qO)||(qg.qO=Jb());return qg.qO},nM:function(){Db(qg.pO)||(qg.pO=Kb());return qg.pO}};z.iq=qg; ');
